var Re=Object.defineProperty,qe=Object.defineProperties;var Pe=Object.getOwnPropertyDescriptors;var _e=Object.getOwnPropertySymbols;var Ne=Object.prototype.hasOwnProperty,Be=Object.prototype.propertyIsEnumerable;var ve=(e,s,r)=>s in e?Re(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r,q=(e,s)=>{for(var r in s||(s={}))Ne.call(s,r)&&ve(e,r,s[r]);if(_e)for(var r of _e(s))Be.call(s,r)&&ve(e,r,s[r]);return e},fe=(e,s)=>qe(e,Pe(s));import{a as F,r as f,w as D,c as A,b as K,d as Y,u as ke,e as He,f as B,o as c,g as u,h as a,i as _,j as p,t as I,k as C,n as le,l as pe,m as w,p as G,q as T,s as ee,v as te,x as we,E as Ce,y as Ie,z as Te,A as O,B as N,C as ge,D as se,F as oe,P as De,G as R,H as P,I as Ue,T as ze,J as Fe,K as We,L as Ge,M as Ke,N as Ye,O as Qe,Q as Ze,R as ne,S as Je,U as Xe,V as et,W as tt,X as st,Y as ot,Z as nt}from"./vendor.22240b17.js";const at=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))n(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerpolicy&&(o.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?o.credentials="include":t.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(t){if(t.ep)return;t.ep=!0;const o=r(t);fetch(t.href,o)}};at();function Q(){const e=!"{{REPOSILITE.BASE_PATH}}".includes("REPOSILITE.BASE_PATH"),s=e?"{{REPOSILITE.BASE_PATH}}":"/",r=e?"{{REPOSILITE.ID}}":"reposilite-repository",n=e?"{{REPOSILITE.TITLE}}":"Reposilite Repository",t=e?"{{REPOSILITE.DESCRIPTION}}":"Public Maven repository hosted through the Reposilite",o=e?"{{REPOSILITE.ORGANIZATION_WEBSITE}}":location.protocol+"//"+location.host+s,i=e?"{{REPOSILITE.ORGANIZATION_LOGO}}":"https://avatars.githubusercontent.com/u/75123628?s=200&v=4",l=e?"{{REPOSILITE.ICP_LICENSE}}":"\u56FDICP\u5907000000000\u53F7",d=window.location.protocol+"//"+location.host+s,h=d.endsWith("/")?d.slice(0,-1):d;return{available:e,basePath:s,id:r,title:n,description:t,organizationWebsite:o,organizationLogo:i,icpLicense:l,productionUrl:d,baseUrl:h}}const{baseUrl:rt}=Q(),W=e=>rt+e,Se=(e,s)=>{const r=()=>e&&s?n(e,s):{},n=(l,d)=>({headers:{Authorization:`xBasic ${btoa(`${l}:${d}`)}`}}),t=(l,d)=>F.get(W(l),q({},d||r())),o=(l,d,h)=>F.put(W(l),d,{headers:q({"Content-Type":"text/plain"},(h||r()).headers)});return{auth:{me(){return t("/api/auth/me")}},console:{},maven:{content(l){return t(`/${l}`)},details(l){return t(`/api/maven/details/${l||""}`)},download(l){return t(`/${l}`,q({responseType:"blob"},r()))},deploy(l,d){return o(`/${l}`,d)}},settings:{content(l){return t(`/api/settings/content/${l}`)},updateContent(l,d){return o(`/api/settings/content/${l}`,d)}},schema:{get(l){return F.get(`/api/schema/${l}`,{headers:q({Accepts:"application/json"},r().headers)})}},config:{get(l){return F.get(W(`/api/configuration/${l}`),{headers:q({Accepts:"application/json"},r().headers)})},put(l,d){return F.put(W(`/api/configuration/${l}`),d,{headers:q({"Content-Type":"application/json",Accepts:"application/json"},r().headers)})}}}},H=f({name:localStorage.getItem("token-name")||"",secret:localStorage.getItem("token-secret")||""});D(()=>{localStorage.setItem("token-name",H.value.name),localStorage.setItem("token-secret",H.value.secret)});const je=(e,s)=>H.value={name:e,secret:s},Z=f(),lt=()=>{Z.value=void 0,je("","")},Oe=(e,s)=>Se(e,s).auth.me().then(r=>{je(e,s),Z.value=r.data}),it=()=>Oe(H.value.name,H.value.secret),ct=A(()=>Se(H.value.name,H.value.secret)),dt=A(()=>Z.value!==void 0),ut=A(()=>{var e,s;return(s=(e=Z.value)==null?void 0:e.permissions)==null?void 0:s.find(r=>r.identifier==="access-token:manager")});function V(){return{token:H,details:Z,login:Oe,logout:lt,isLogged:dt,client:ct,isManager:ut,initializeSession:it}}const U=K({isDark:!1}),ae="dark-theme";function Me(){return{theme:U,fetchTheme:()=>{localStorage.getItem(ae)===null?U.isDark=window.matchMedia("(prefers-color-scheme: dark)").matches:U.isDark=localStorage.getItem(ae)==="true"},toggleTheme:()=>{U.isDark=!U.isDark,localStorage.setItem(ae,U.isDark)}}}const ie=K({watchable:0,path:""}),ce=()=>ie.watchable++,{details:pt}=V();Y(()=>pt.value,()=>ce());function Ee(){const e=ke();return Y(()=>e.params.qualifier,s=>{ie.path=s,ce()},{immediate:!0}),{qualifier:ie,refreshQualifier:ce}}const ht={class:"min-h-screen dark:bg-black dark:text-white"},mt={key:0,class:"absolute h-8 pb-2 w-full text-center text-xs dark:bg-black dark:text-white"},_t={href:"https://beian.miit.gov.cn",target:"_blank"},vt={setup(e){const{title:s,description:r,icpLicense:n}=Q(),{theme:t,fetchTheme:o}=Me(),{initializeSession:i}=V(),{qualifier:l}=Ee();return He({title:s,description:r}),o(),i().catch(()=>{}),(d,h)=>{const v=B("router-view");return c(),u("div",{class:le({dark:p(t).isDark})},[a("div",ht,[_(v,{class:"router-view-full",qualifier:p(l)},null,8,["qualifier"]),p(n)?(c(),u("div",mt,[a("a",_t,I(p(n)),1)])):C("",!0)])],2)}}};var M=(e,s)=>{const r=e.__vccOpts||e;for(const[n,t]of s)r[n]=t;return r};const ft={},gt={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},bt=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),$t=[bt];function xt(e,s){return c(),u("svg",gt,$t)}var yt=M(ft,[["render",xt]]);const kt={class:"bg-gray-100 dark:bg-black"},wt={class:"container mx-auto flex flex-row <sm:flex-col <sm:items-center"},Ct={class:"w-35 <sm:mb-2"},It=["src"],Tt={class:"flex flex-col justify-center px-10 <sm:px-0"},St={class:"<sm:text-center"},jt={class:"flex flex-row py-2 <sm:justify-center"},Ot=["href"],Mt={setup(e){const{description:s,organizationWebsite:r,organizationLogo:n}=Q();return(t,o)=>(c(),u("div",kt,[a("div",wt,[a("div",Ct,[a("img",{class:"border-2 rounded-full dark:border-gray-700",src:p(n)},null,8,It)]),a("div",Tt,[a("div",St,I(p(s)),1),a("div",jt,[_(yt),a("a",{class:"px-3 text-gray-500",href:p(r)},I(p(r)),9,Ot)])])])]))}},Et={},Lt={class:"mx-2 py-1.5 rounded-full font-bold px-6 text-sm max-h-35px min-w-93px default-button"};function Vt(e,s){return c(),u("div",Lt,[pe(e.$slots,"default")])}var be=M(Et,[["render",Vt]]);const At={},Rt={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},qt=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1),Pt=[qt];function Nt(e,s){return c(),u("svg",Rt,Pt)}var he=M(At,[["render",Nt]]);const Le=e=>(Ie("data-v-67ba453c"),e=e(),Te(),e),Bt={id:"login-modal"},Ht={class:"relative border bg-white dark:bg-gray-900 border-gray-100 dark:border-black m-w-20 py-5 px-10 rounded-2xl shadow-xl text-center"},Dt=Le(()=>a("p",{class:"font-bold text-xl pb-4"},"Login with access token",-1)),Ut={class:"text-right mt-1"},zt=Le(()=>a("button",{class:"bg-gray-100 dark:bg-gray-800 py-2 my-3 rounded-md cursor-pointer"},"Sign in",-1)),Ft={inheritAttrs:!1},Wt=Object.assign(Ft,{setup(e){const{login:s}=V(),r=f(!1),n=f(""),t=f(""),o=()=>r.value=!1,i=(l,d)=>s(l,d).then(()=>T(`Dashboard accessed as ${l}`,{position:"bottom-right"})).then(()=>o()).catch(h=>T(`${h.response.status}: ${h.response.data.message}`,{type:"danger"}));return(l,d)=>(c(),u("div",Bt,[_(p(Ce),we({modelValue:r.value,"onUpdate:modelValue":d[5]||(d[5]=h=>r.value=h)},l.$attrs,{classes:"flex justify-center items-center"}),{default:w(()=>[a("div",Ht,[Dt,a("form",{class:"flex flex-col w-96 <sm:w-65",onSubmit:d[3]||(d[3]=G(h=>i(n.value,t.value),["prevent"]))},[ee(a("input",{placeholder:"Name","onUpdate:modelValue":d[0]||(d[0]=h=>n.value=h),type:"text",class:"input"},null,512),[[te,n.value]]),ee(a("input",{placeholder:"Secret","onUpdate:modelValue":d[1]||(d[1]=h=>t.value=h),type:"password",class:"input"},null,512),[[te,t.value]]),a("div",Ut,[a("button",{onClick:d[2]||(d[2]=h=>o()),class:"text-blue-400 text-xs"},"\u2190 Back to index")]),zt],32),a("button",{class:"absolute top-0 right-0 mt-5 mr-5",onClick:d[4]||(d[4]=h=>o())},[_(he)])])]),_:1},16,["modelValue"]),a("div",{onClick:d[6]||(d[6]=h=>r.value=!0)},[pe(l.$slots,"button",{},void 0,!0)])]))}});var Gt=M(Wt,[["__scopeId","data-v-67ba453c"]]);const Kt={},Yt={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Qt=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1),Zt=[Qt];function Jt(e,s){return c(),u("svg",Yt,Zt)}var Xt=M(Kt,[["render",Jt]]);const es={},ts={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},ss=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1),os=[ss];function ns(e,s){return c(),u("svg",ts,os)}var as=M(es,[["render",ns]]);const rs={},ls={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},is=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"},null,-1),cs=[is];function ds(e,s){return c(),u("svg",ls,cs)}var us=M(rs,[["render",ds]]);const ps={class:"flex flex-row <sm:max-w-100px <sm:flex-wrap <sm:flex-1 <sm:justify-end <sm:min-w-1/2"},hs={key:0,class:"pt-1.1 px-2 <sm:py-2 <sm:max-w-full <sm:truncate"},ms=N(" Welcome "),_s={class:"font-bold underline"},vs=N(" Sign in "),fs=N(" Logout "),gs={key:2,class:"hidden px-2.7 pt-0.8 mr-1.5 cursor-pointer rounded-full bg-white dark:bg-gray-900 max-h-35px <sm:block"},bs={setup(e){const{theme:s,toggleTheme:r}=Me(),{token:n,isLogged:t,logout:o}=V();return(i,l)=>(c(),u("nav",ps,[p(t)?(c(),u("div",hs,[ms,a("span",_s,I(p(n).name),1)])):C("",!0),_(Gt,null,{button:w(()=>[p(t)?C("",!0):(c(),O(be,{key:0},{default:w(()=>[vs]),_:1}))]),_:1}),p(t)?(c(),O(be,{key:1,onClick:l[0]||(l[0]=d=>p(o)()),class:"<sm:hidden"},{default:w(()=>[fs]),_:1})):C("",!0),p(t)?(c(),u("div",gs,[_(us,{onClick:l[1]||(l[1]=d=>p(o)())})])):C("",!0),a("div",{class:"pl-2 pt-1.3 rounded-full max-h-35px default-button",onClick:l[2]||(l[2]=d=>p(r)())},[p(s).isDark?(c(),O(as,{key:0,class:"mr-1.9"})):(c(),O(Xt,{key:1,class:"mr-1.5"}))])]))}},$s={class:"bg-gray-100 dark:bg-black dark:text-white"},xs={class:"container mx-auto flex flex-row py-10 justify-between <sm:pb-2 <sm:pt-5 <sm:px-5 <sm:justify-start"},ys={class:"text-xl font-medium py-1 <sm:w-1/2"},ks={setup(e){const{title:s}=Q();return(r,n)=>{const t=B("router-link");return c(),u("header",$s,[a("div",xs,[a("h1",ys,[_(t,{to:"/"},{default:w(()=>[N(I(p(s)),1)]),_:1})]),_(bs,{class:"mt-0.5"})]),_(Mt,{class:"pt-2 pb-10 <sm:pb-4"})])}}},ws=(e,s,r)=>{const n=(t,o)=>{const i=t.split("-"),l=o.split("-"),d=i[0].split("."),h=l[0].split(".");for(let v=0;v<3;v++){const m=Number(d[v]),b=Number(h[v]);if(m>b)return 1;if(b>m)return-1;if(!isNaN(m)&&isNaN(b))return 1;if(isNaN(m)&&!isNaN(b))return-1}return i[1]&&l[1]?i[1]>l[1]?1:i[1]<l[1]?-1:0:!i[1]&&l[1]?1:i[1]&&!l[1]?-1:0};return(t,o)=>{if(!s(t,o))return 0;const i=n(r(t),r(o));return e?-i:i}},de=f(localStorage.getItem("reversedFileOrder")==="true");D(()=>localStorage.setItem("reversedFileOrder",de.value));const ue=f(localStorage.getItem("displayHashFiles")==="true");D(()=>localStorage.setItem("displayHashFiles",ue.value));function Ve(){return{reversedFileOrder:de,displayHashFiles:ue,applyAdjustments:s=>{if(ue.value||(s=s.filter(r=>![".md5",".sha1",".sha256",".sha512"].some(n=>r.name.endsWith(n)))),de.value){const r=ws(!0,(n,t)=>n.type==="DIRECTORY"&&t.type==="DIRECTORY",n=>n.name);s=s.sort(r)}return s}}}const Cs={},Is={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Ts=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"},null,-1),Ss=[Ts];function js(e,s){return c(),u("svg",Is,Ss)}var Os=M(Cs,[["render",js]]);const Ms={id:"adjustments-modal"},Es={class:"relative border bg-white dark:bg-gray-900 border-gray-100 dark:border-black m-w-20 py-5 px-10 rounded-2xl shadow-xl text-center"},Ls=a("h1",{class:"font-bold pb-4"},"File browser adjustments",-1),Vs=a("hr",{class:""},null,-1),As={class:"flex justify-between pt-6"},Rs=a("p",{class:"pr-7"},"Sort files from newest to oldest",-1),qs={class:"flex justify-between pt-6"},Ps=a("p",{class:"pr-7"},[N(" Display hash files such as "),a("span",{class:"font-italic font-mono bg-gray-200 dark:bg-black px-2 py-0.5 m-2 rounded-lg"},".md5/.sha1/.sha256/.sha512")],-1),Ns={inheritAttrs:!1},Bs=Object.assign(Ns,{setup(e){const{reversedFileOrder:s,displayHashFiles:r}=Ve(),n=f(!1);return(t,o)=>(c(),u("div",Ms,[_(p(Ce),we({modelValue:n.value,"onUpdate:modelValue":o[3]||(o[3]=i=>n.value=i)},t.$attrs,{classes:"flex justify-center iems-center"}),{default:w(()=>[a("div",Es,[a("div",null,[Ls,Vs,a("div",As,[Rs,_(p(ge),{modelValue:p(s),"onUpdate:modelValue":o[0]||(o[0]=i=>se(s)?s.value=i:null),class:"ml-10"},null,8,["modelValue"])]),a("div",qs,[Ps,_(p(ge),{modelValue:p(r),"onUpdate:modelValue":o[1]||(o[1]=i=>se(r)?r.value=i:null),class:"ml-10"},null,8,["modelValue"])])]),a("button",{class:"absolute top-0 right-0 mt-5 mr-9",onClick:o[2]||(o[2]=i=>n.value=!1)},[_(he)])])]),_:1},16,["modelValue"]),a("div",{onClick:o[4]||(o[4]=i=>n.value=!0)},[pe(t.$slots,"button")])]))}});function Hs(){return{createSnippets:(s,r,n)=>[{name:"Maven",lang:"xml",snippet:`
<dependency>
  <groupId>${s}</groupId>
  <artifactId>${r}</artifactId>
  <version>${n}</version>
</dependency>`.trim()},{name:"Gradle Groovy",lang:"xml",snippet:`implementation "${s}:${r}:${n}"`},{name:"Gradle Kotlin",lang:"kotlin",snippet:`implementation("${s}:${r}:${n}")`},{name:"SBT",lang:"scala",snippet:`"${s}" %% "${r}" %% "${n}"`}]}}function Ds(){const{basePath:e,id:s,title:r}=Q();return{createRepositories:t=>{const o=A(()=>t.path.split("/")[0]),i=s+(t.path?`-${o.value}`:""),l=location.protocol+"//"+location.host+e+(e.endsWith("/")?"":"/")+(t.path?`${o.value}`:"{repository}");return[{name:"Maven",lang:"xml",snippet:`
<repository>
  <id>${i}</id>
  <name>${r}</name>
  <url>${l}</url>
</repository>`.trim()},{name:"Gradle Groovy",lang:"groovy",snippet:`maven {
    url "${l}"
}`.trim()},{name:"Gradle Kotlin",lang:"kotlin",snippet:`maven {
    url = uri("${l}")
}`},{name:"SBT",lang:"scala",snippet:`resolvers +=
  "${i}" 
     at "${l}"`}]}}}const Us=new DOMParser;function zs(){const e=t=>{var o,i;return(i=(o=t==null?void 0:t.getElementsByTagName("groupId")[0])==null?void 0:o.firstChild)==null?void 0:i.nodeValue},s=t=>{var o,i;return(i=(o=t==null?void 0:t.getElementsByTagName("artifactId")[0])==null?void 0:o.firstChild)==null?void 0:i.nodeValue},r=t=>{var o;return(o=[...t.querySelector("versioning versions").children].map(i=>i.firstChild.nodeValue))!=null?o:["{unknown}"]};return{parseMetadata:t=>{const o=Us.parseFromString(t,"text/xml"),i=r(o);return{metadata:o,groupId:e(o),artifactId:s(o),versions:i}},groupId:e,artifactId:s,versions:r}}const Fs={},Ws={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Gs=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"},null,-1),Ks=[Gs];function Ys(e,s){return c(),u("svg",Ws,Ks)}var Qs=M(Fs,[["render",Ys]]);const Zs={props:{configuration:{type:Object,required:!0}},setup(e){const s=e,r=A(()=>q({highlighter:n=>{var t;return oe.highlight(n,(t=oe.languages[s.configuration.lang])!=null?t:oe.languages.js)}},s.configuration));return(n,t)=>(c(),O(p(De),{class:"card-editor font-mono text-ssm absolute",modelValue:p(r).snippet,"onUpdate:modelValue":t[0]||(t[0]=o=>p(r).snippet=o),highlight:p(r).highlighter,readonly:"","line-numbers":""},null,8,["modelValue","highlight"]))}},Js={},Xs={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},eo=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1),to=[eo];function so(e,s){return c(),u("svg",Xs,to)}var oo=M(Js,[["render",so]]);const no={id:"card-menu",class:"flex mt-2 <sm:hidden"},ao=["onClick"],ro={class:"hidden flex-col items-center mt-24px <sm:flex"},lo={class:"w-20px h-25px float-right m-auto flex items-center"},io={key:0,class:"rounded-lg w-full box-border p-2 bg-true-gray-100 dark:bg-dark-600"},co=["onClick"],uo={props:{configurations:{type:Object,required:!0}},emits:["selectTab"],setup(e,{emit:s}){const r=f(localStorage.getItem("card-tab")||"Maven");D(()=>{localStorage.setItem("card-tab",r.value),s("selectTab",r.value)});const n=o=>r.value=o.name,t=f(localStorage.getItem("dropdown-open")||!1);return D(()=>localStorage.setItem("dropdown-open",t.value)),(o,i)=>(c(),u("div",null,[a("div",no,[(c(!0),u(R,null,P(e.configurations,l=>(c(),u("div",{key:l.name,onClick:d=>n(l),class:le(["py-4 px-7 flex-grow text-center border-b-2 cursor-pointer border-transparent",{"!border-gray-800":l.name===r.value}])},I(l.name),11,ao))),128))]),a("div",ro,[a("div",{class:"w-full box-border py-5px p-2 rounded-lg border-1 border-true-gray-200 dark:border-dark-300",onClick:i[0]||(i[0]=l=>t.value=!t.value)},[N(I(r.value)+" ",1),a("div",lo,[_(oo)])]),t.value?C("",!0):(c(),u("ul",io,[(c(!0),u(R,null,P(e.configurations,l=>(c(),u("li",{key:l.name,onClick:d=>{o.selectTab(l),t.value=!t.value},class:le(["dropdown py-1",{hidden:l.name===r.value}])},I(l.name),11,co))),128))]))])]))}};const po={class:"bg-white dark:bg-gray-900 shadow-lg p-7 rounded-xl border-gray-100 dark:border-black"},ho={class:"flex flex-row justify-between"},mo={class:"font-bold flex items-center w-full"},_o=a("hr",{class:"dark:border-gray-800 <sm:hidden"},null,-1),vo={class:"overflow-hidden"},fo={props:{qualifier:{type:Object,required:!0}},setup(e){const s=e,r=f(""),n=f([]),{createRepositories:t}=Ds(),{createSnippets:o}=Hs(),{parseMetadata:i}=zs(),{client:l}=V(),{copy:d,isSupported:h}=Ue(),v=()=>{r.value="Repository details",n.value=t(s.qualifier)},m=($,g)=>{r.value="Artifact details";const{groupId:y,artifactId:L,versions:x}=i($),k=x[g?x.indexOf(g):x.length-1];n.value=o(y,L,k)};D(()=>{const $=s.qualifier.path,g=$.split("/");if(g.length==1&&g[0]==""){v();return}l.value.maven.content(`${$}/maven-metadata.xml`).then(y=>m(y.data)).catch(()=>{l.value.maven.content(`${$.substring(0,$.indexOf(g[g.length-1])-1)}/maven-metadata.xml`).then(y=>m(y.data,g[g.length-1])).catch(y=>{y.message!=="Request failed with status code 404"&&console.log(y),v()})})});const b=f(),E=f("slide-right");Y(b,($,g)=>{const y=n.value.findIndex(x=>x.name===$),L=n.value.findIndex(x=>x.name===g);E.value=y-L<0?"slide-left":"slide-right"});const J=async()=>{const{snippet:$}=n.value.find(g=>g.name===b.value);return await d($),T("Snippet copied",{type:"info",timeout:"2000"})},S=$=>b.value=$;return($,g)=>(c(),u("div",po,[a("div",ho,[a("h1",mo,[N(I(r.value)+" ",1),p(h)?(c(),u("span",{key:0,onClick:J,class:"ml-auto cursor-pointer"},[_(Qs)])):C("",!0)])]),_(uo,{configurations:n.value,onSelectTab:S},null,8,["configurations"]),_o,a("div",vo,[_(ze,{name:E.value,mode:"out-in"},{default:w(()=>[(c(),u("div",{key:b.value,class:"h-29 relative mt-6 py-3 pl-1 mr-1 rounded-lg bg-gray-100 dark:bg-gray-800"},[(c(!0),u(R,null,P(n.value,y=>(c(),u(R,{key:y.name},[y.name===b.value?(c(),O(Zs,{key:0,configuration:y},null,8,["configuration"])):C("",!0)],64))),128))]))]),_:1},8,["name"])])]))}},go={class:""},bo={class:"pb-3 font-semibold"},$o={class:"select-none"},xo=N(" Index of "),yo={class:"select-text"},ko={class:"hover:transition-colors hover:duration-200 hover:text-purple-500"},wo=a("span",{class:"font-normal text-xl text-gray-500 select-none"}," \u2934 ",-1),Co={props:{parentPath:{type:String,required:!0}},setup(e){const s=ke(),r=A(()=>{const n=s.path.split("/");return n.map((t,o)=>({link:n.slice(0,o+1).join("/")||"/",name:o===n.length-1?t:t+"/"}))});return(n,t)=>{const o=B("router-link");return c(),u("div",go,[a("p",bo,[a("span",$o,[_(o,{to:"/"},{default:w(()=>[xo]),_:1})]),a("span",yo,[(c(!0),u(R,null,P(p(r),i=>(c(),O(o,{key:i.link,to:i.link},{default:w(()=>[a("span",ko,I(i.name),1)]),_:2},1032,["to"]))),128))]),_(o,{to:e.parentPath},{default:w(()=>[wo]),_:1},8,["to"])])])}}},Io={},To={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},So=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"},null,-1),jo=a("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"},null,-1),Oo=[So,jo];function Mo(e,s){return c(),u("svg",To,Oo)}var Eo=M(Io,[["render",Mo]]);const Lo={class:"browser-entry flex flex-row justify-between mb-1.5 py-3 rounded-full default-button"},Vo={class:"flex flex-row"},Ao={key:0,class:"text-xm px-6 pt-1.75"},Ro={key:1,class:"text-xm px-6 pt-1.75"},qo={class:"font-semibold"},Po={key:0,class:"px-6 flex"},No=["title"],$e={props:{file:{type:Object,required:!0}},setup(e){const s=e,r=["application/xml","text/plain","text/xml","text/markdown","application/json"].some(t=>{var o;return((o=s.file)==null?void 0:o.contentType)==t}),n=t=>window.open(t);return(t,o)=>(c(),u("div",Lo,[a("div",Vo,[e.file.type=="DIRECTORY"?(c(),u("div",Ao,"\u26AB")):(c(),u("div",Ro,"\u26AA")),a("div",qo,I(e.file.name),1)]),e.file.hasOwnProperty("contentLength")?(c(),u("div",Po,[p(r)?(c(),u("div",{key:0,title:`Click to view ${e.file.name} file content in a new tab`},[_(Eo,{id:"view-button",class:"px-1 mr-7 pt-0.4 rounded-full text-purple-300 hover:transition-colors hover:duration-200 hover:bg-gray-100 hover:dark:bg-gray-900",onClick:[o[0]||(o[0]=G(i=>n(`${t.$route.path}/${e.file.name}`),["left","prevent"])),o[1]||(o[1]=G(()=>{},["stop"]))]})],8,No)):C("",!0),a("div",null,I(p(Fe)(e.file.contentLength)),1)])):C("",!0)]))}},Bo={id:"browser-list",class:"pt-3"},Ho=["onClick","href"],Do={key:0,class:"pl-2"},Uo=a("p",null,"Directory is empty",-1),zo=[Uo],Fo={key:1,class:"pl-2"},Wo=a("p",null,"Directory not found",-1),Go=[Wo],Ko={props:{files:{type:Object,required:!0}},setup(e){const{client:s}=V(),r=(n,t)=>{s.value.maven.download(n.substring(1)+"/"+t).then(o=>We(o.data,t,o.headers["content-type"])).catch(o=>T(`Cannot download file - ${o.response.status}: ${o.response.data.message}`,{type:"danger"}))};return(n,t)=>{const o=B("router-link");return c(),u("div",Bo,[(c(!0),u(R,null,P(e.files.list,i=>(c(),u("div",{key:i},[i.type==="DIRECTORY"?(c(),O(o,{key:0,to:n.append(n.$route.path,i.name)},{default:w(()=>[_($e,{file:i},null,8,["file"])]),_:2},1032,["to"])):(c(),u("a",{key:1,onClick:G(l=>r(n.$route.path,i.name),["left","prevent"]),href:`${n.$route.path}/${i.name}`,target:"_blank"},[_($e,{file:i},null,8,["file"])],8,Ho))]))),128)),e.files.isEmpty?(c(),u("div",Do,zo)):C("",!0),e.files.error?(c(),u("div",Fo,Go)):C("",!0)])}}},Yo=e=>T(e,{type:"success"}),Qo=e=>T(e,{type:"danger"});const Zo={id:"browser-upload"},Jo={class:"border border-dashed rounded-3xl mt-1.5 cursor-pointer bg-gray-50 border-gray-300 hover:transition-colors hover:duration-200 hover:bg-white dark:bg-black dark:border-gray-800 dark:hover:transition-colors dark:hover:duration-400 dark:hover:bg-gray-900"},Xo={class:"my-3 px-6"},en={key:0,class:"flex"},tn=a("span",{class:"text-xm pt-1.6"},"\u{1F7E3}",-1),sn=a("span",{class:"font-bold px-5"},"Select files",-1),on=[tn,sn],nn={key:1,class:"py-1"},an=a("p",{class:"font-bold"},"Selected files to deploy here",-1),rn=[an],ln={class:"-mt-2 pb-2"},cn=["onClick"],dn={class:"px-2"},un={key:0,class:"text-right"},pn=["onClick"],hn=a("span",null,"Upload files ",-1),mn=a("span",{class:"font-bold text-purple-400"},"\u219D",-1),_n=[hn,mn],vn={setup(e){const{client:s}=V(),{qualifier:r,refreshQualifier:n}=Ee(),t=f([]),o=l=>t.value=t.value.filter(d=>d!==l),i=()=>{t.value.forEach(l=>s.value.maven.deploy(`${r.path}/${l.name}`,l.file).then(()=>Yo(`File ${l.name} has been uploaded`)).then(()=>o(l)).catch(d=>Qo(`Cannot upload file ${l.name} - ${d.response.status}: ${d.response.data.message}`))),n()};return(l,d)=>(c(),u("div",Zo,[a("div",Jo,[_(p(Ge),{class:"btn btn-primary flex text-left","post-action":"/upload/post",multiple:!0,drop:!0,"drop-directory":!0,modelValue:t.value,"onUpdate:modelValue":d[0]||(d[0]=h=>t.value=h),ref:"upload"},{default:w(()=>[a("div",Xo,[t.value.length==0?(c(),u("div",en,on)):(c(),u("div",nn,rn))])]),_:1},8,["modelValue"]),a("div",ln,[(c(!0),u(R,null,P(t.value,h=>(c(),u("div",{key:h.name,class:"pb-1 px-6 flex"},[a("span",{onClick:v=>o(h),class:"pt-0.85"},[_(he,{class:"h-5 text-purple-400"})],8,cn),a("span",dn,I(h.name),1)]))),128))])]),t.value.length>0?(c(),u("div",un,[a("button",{onClick:G(i,["prevent"]),class:"border text-sm py-1.5 h-9 px-4 mt-1.5 border-dashed rounded bg-gray-50 border-gray-400 hover:transition-colors hover:duration-200 hover:bg-purple-500 hover:text-white dark:bg-black dark:border-gray-700 dark:text-white dark:hover:transition-colors dark:hover:duration-200 dark:hover:bg-purple-700"},_n,8,pn)])):C("",!0)]))}},fn={class:"bg-gray-100"},gn={class:"dark:bg-black"},bn={class:"container mx-auto relative min-h-320px mb-1.5"},$n={class:"lg:absolute pt-13 -top-5 right-8"},xn={class:"lg:max-w-2/5 xl:max-w-1/2"},yn={class:"flex justify-between pt-7 px-2"},kn={class:"w-9"},wn={class:"bg-white dark:bg-gray-900 pl-2 pt-1.3 pb-1 pr-2 cursor-pointer rounded-full default-button"},Cn={props:{qualifier:{type:Object,required:!0}},setup(e){const s=e,r=f(""),n=f({}),{client:t,isManager:o}=V(),{applyAdjustments:i}=Ve(),l=A(()=>fe(q({},n.value),{list:i([...n.value.list])}));return Y(()=>s.qualifier.watchable,async()=>{n.value={list:[]};const d=s.qualifier.path;t.value.maven.details(d).then(v=>n.value={list:v.data.files}).then(()=>n.value.isEmpty=n.value.list.length==0).catch(v=>{T(`${v.response.status}: ${v.response.data.message}`,{type:"danger"}),n.value={list:[],error:!0}});const h=v=>(v.endsWith("/")?v.slice(0,-1):v).split("/").slice(0,-1).join("/")||"/";r.value=h(`/${d}`)},{immediate:!0}),(d,h)=>(c(),u("div",fn,[a("div",gn,[a("div",bn,[a("div",$n,[_(fo,{qualifier:e.qualifier},null,8,["qualifier"])]),a("div",xn,[a("div",yn,[_(Co,{parentPath:r.value},null,8,["parentPath"]),_(Bs,null,{button:w(()=>[a("div",kn,[a("div",wn,[_(Os,{class:"pr-0.9"})])])]),_:1})]),_(Ko,{files:p(l)},null,8,["files"]),p(o)?(c(),O(vn,{key:0})):C("",!0)])])])]))}};const In={class:"container mx-auto py-10 px-15"},Tn=a("div",null,[a("p",null,"Modify configuration shared between all instances."),a("p",null,[a("strong",null,"Remember"),N(": Configuration propagation can take up to 30 seconds on all instances")])],-1),Sn={class:"border-1 rounded p-4 dark:border-gray-700"},jn={setup(e){const{client:s}=V(),r="all",n=f({}),t=f({}),o=f(!1),i=()=>s.value.schema.get(r).then(m=>t.value=m.data).catch(m=>T(m,{type:"danger"})),l=()=>s.value.config.get(r).then(m=>n.value=m.data).catch(m=>T(m,{type:"danger"})),d=()=>s.value.config.put(r,n.value).then(m=>{m.status>=200&&m.status<300&&(T("Configuration has been deployed",{type:"success"}),n.value=m.data)}).catch(m=>T(m,{type:"danger"}));i().then(l).then(()=>o.value=!0);const v=Ke({formats:{"storage-quota":/^([1-9]\d*)([KkMmGg][Bb]|%)$/,"maven-artifact-group":/^(\w+\.)*\w+$/,"repository-name":{type:"string",validate:m=>m in n.value.repositories}}});return(m,b)=>(c(),u("div",In,[a("div",{class:"flex justify-between pb-5 flex-col xl:flex-row"},[Tn,a("div",{id:"configuration-state",class:"flex flex-row pt-3 xl:pt-2"},[a("button",{onClick:l}," Reset changes "),a("button",{onClick:d}," Update and reload ")])]),a("div",Sn,[_(p(Ye),{schema:t.value,data:n.value,ajv:p(v)},null,8,["schema","data","ajv"])])]))}},Ae=["Other","Trace","Debug","Info","Warn","Error"],re=K({}),xe=f(""),On=f(0),X=K([]),Mn=new Qe,En=e=>{var s;return(s=Ae.find(r=>e.includes(`${r.toUpperCase()} | `)))!=null?s:"Other"},ye=e=>Mn.toHtml(e.replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll(" ","&nbsp;"));function Ln(){Ae.forEach(n=>{re[n]={name:n,enabled:!0,count:A(()=>X.reduce((t,o)=>t+(o.level===n),0))}});const e=A(()=>X.filter(n=>n.message.toLowerCase().includes(xe.value.toLowerCase())).filter(n=>re[n.level].enabled));return{levels:re,log:e,filter:xe,sanitizeMessage:ye,logMessage:n=>{X.push({id:On.value++,message:ye(n),level:En(n)})},clearLog:()=>{X.length=0}}}const j=f(),z=f("");function Vn(){const e=W("/api/console/sock").replace("https","wss").replace("http","ws"),s=()=>{var S;return((S=j.value)==null?void 0:S.readyState)===WebSocket.OPEN},r=()=>{s()&&j.value.close()},n=f([""]),t=f(0),o=S=>{n.value[n.value.length-1]==""&&n.value.pop(),n.value.push(S),t.value=n.value.length-1},i=()=>{o(z.value),j.value.send(z.value),z.value=""},l=()=>h(-1),d=()=>h(1),h=S=>{const $=z.value,g=n.value,y=g.length-1;y===t.value&&g[y]!==$&&o($),t.value=Math.max(0,Math.min(g.length-1,t.value+S)),z.value=n.value[t.value]},v=f(),m=f(),b=f(),E=f();return{connection:j,connect:S=>{try{j.value=new WebSocket(e),j.value.onopen=()=>{j.value.send(`Authorization:${S.name}:${S.secret}`),v==null||v.value()},j.value.onmessage=g=>{g.data!="keep-alive"&&(m==null||m.value(g.data))},j.value.onerror=g=>b==null?void 0:b.value(g),j.value.onclose=()=>E==null?void 0:E.value();const $=setInterval(()=>{var g;s()?(g=j==null?void 0:j.value)==null||g.send("keep-alive"):clearInterval($)},1e3*5)}catch($){b==null||b.value($)}},close:r,onOpen:v,onMessage:m,onError:b,onClose:E,command:z,execute:i,previousCommand:l,nextCommand:d}}const An={class:"container mx-auto pt-10 px-15 pb-10 text-xs"},Rn={class:"flex text-sm flex-col xl:flex-row w-full py-2 justify-between"},qn={class:"flex flex-row justify-around w-full xl:w-1/2 <md:flex-wrap"},Pn=["checked","onChange"],Nn={class:"pl-2 pr-4"},Bn={class:"bg-white dark:bg-gray-900 rounded-lg"},Hn={id:"console",class:"overflow-scroll h-144 px-4 whitespace-pre-wrap font-mono text-xs"},Dn=["innerHTML"],Un=a("hr",{class:"dark:border-dark-300"},null,-1),zn={props:{selectedTab:{type:Object,required:!0}},setup(e){const s=e,{levels:r,log:n,logMessage:t,filter:o,clearLog:i}=Ln(),{onOpen:l,onMessage:d,onClose:h,onError:v,connect:m,close:b,command:E,execute:J,previousCommand:S,nextCommand:$}=Vn();Ze(()=>b());const g=()=>{const L=document.getElementById("console");L.scrollTop=L.scrollHeight},y=()=>{l.value=()=>i(),d.value=x=>{t(x),Je(()=>g())},v.value=x=>T(`${x||""}`,{type:"danger"}),h.value=()=>T("Connection with console has been lost",{type:"danger"}),T("Connecting to the remote console",{type:"info"});const{token:L}=V();m(L.value)};return Y(()=>s.selectedTab.value,L=>L==="Console"?y():b(),{immediate:!0}),(L,x)=>(c(),u("div",An,[a("div",Rn,[ee(a("input",{placeholder:"Filter","onUpdate:modelValue":x[0]||(x[0]=k=>se(o)?o.value=k:null),class:"w-full xl:w-1/2 mr-5 py-1 px-4 rounded-lg bg-white dark:bg-gray-900"},null,512),[[te,p(o)]]),a("div",qn,[(c(!0),u(R,null,P(p(r),k=>(c(),u("div",{key:k.name,class:"pt-1.9 xl:pt-0.8 font-sans whitespace-nowrap"},[a("input",{type:"checkbox",checked:k.enabled,onChange:Xn=>k.enabled=!k.enabled},null,40,Pn),a("span",Nn,I(k.name)+" ("+I(k.count)+")",1)]))),128))])]),a("div",Bn,[a("div",Hn,[(c(!0),u(R,null,P(p(n),k=>(c(),u("p",{key:k.id,innerHTML:k.message,class:"whitespace-nowrap"},null,8,Dn))),128))]),Un,ee(a("input",{id:"consoleInput",placeholder:"Type command or '?' to get help",class:"w-full py-2 px-4 rounded-b-lg bg-white dark:bg-gray-900 dark:text-white","onUpdate:modelValue":x[1]||(x[1]=k=>se(E)?E.value=k:null),onKeyup:[x[2]||(x[2]=ne(k=>p(J)(),["enter"])),x[3]||(x[3]=ne(k=>p(S)(),["up"])),x[4]||(x[4]=ne(k=>p($)(),["down"]))]},null,544),[[te,p(E)]])])]))}};const Fn=e=>(Ie("data-v-31c5459e"),e=e(),Te(),e),Wn={class:"bg-gray-100 dark:bg-black"},Gn={class:"container mx-auto <sm:px-0"},Kn=Fn(()=>a("hr",{class:"dark:border-gray-700"},null,-1)),Yn={class:"overflow-auto"},Qn={props:{qualifier:{type:Object,required:!0}},setup(e){const{isManager:s}=V(),r=[{name:"Overview"},{name:"Console",manager:!0},{name:"Configuration",manager:!0}],n=K({value:localStorage.getItem("selectedTab")||"Overview"});D(()=>localStorage.setItem("selectedTab",n.value));const t=A(()=>r.filter(o=>!(o==null?void 0:o.manager)||s.value).map(o=>o.name));return(o,i)=>{const l=B("tab"),d=B("tabs"),h=B("tab-panel"),v=B("tab-panels");return c(),u("div",null,[_(ks),a("div",Wn,[a("div",Gn,[_(d,{modelValue:p(n).value,"onUpdate:modelValue":i[0]||(i[0]=m=>p(n).value=m)},{default:w(()=>[(c(!0),u(R,null,P(p(t),(m,b)=>(c(),O(l,{class:"item font-normal",key:`menu${b}`,val:m,label:m,indicator:!0},null,8,["val","label"]))),128))]),_:1},8,["modelValue"])]),Kn,a("div",Yn,[_(v,{modelValue:p(n).value,"onUpdate:modelValue":i[1]||(i[1]=m=>p(n).value=m),animate:!0},{default:w(()=>[_(h,{val:"Overview"},{default:w(()=>[_(Cn,{qualifier:e.qualifier,ref:""},null,8,["qualifier"])]),_:1}),p(s)?(c(),O(h,{key:0,val:"Console"},{default:w(()=>[_(zn,{selectedTab:p(n)},null,8,["selectedTab"])]),_:1})):C("",!0),p(s)?(c(),O(h,{key:1,val:"Configuration"},{default:w(()=>[_(jn,{selectedTab:p(n)},null,8,["selectedTab"])]),_:1})):C("",!0)]),_:1},8,["modelValue"])])])])}}};var Zn=M(Qn,[["__scopeId","data-v-31c5459e"]]);const Jn=Xe({history:et(),routes:[{path:"/:qualifier(.*)",name:"Index",component:Zn}]});const me=tt(vt);me.config.globalProperties.append=(e,s)=>e+(e.endsWith("/")?"":"/")+s;me.config.globalProperties.drop=e=>(e.endsWith("/")?e.slice(0,-1):e).split("/").slice(0,-1).join("/");me.use(st()).use(ot,F).use(nt).use(Jn).mount("#app");
